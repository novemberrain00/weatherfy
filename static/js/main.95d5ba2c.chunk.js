(this.webpackJsonpweatherfy=this.webpackJsonpweatherfy||[]).push([[0],{30:function(e,t,n){},34:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(16),s=n.n(r),i=n(3),o=n(4),u=n(18),h=n(6),d=n(5),j=n(8),l=n(10),p=n.n(l),b=n(12),m=n(19),O={menuOpened:!1},f={isThemeDark:!1},x={choosedCities:[],city:"\u041c\u043e\u0441\u043a\u0432\u0430",isActiveCityExist:!1},v={data:{},wind:{},iconPath:{}},y=Object(m.a)({menu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENU_OPENED":return{menuOpened:!e.menuOpened};default:return e}},theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"THEME_CHANGED":return{isThemeDark:!e.isThemeDark};default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CITY_CHANGED":return Object(j.a)(Object(j.a)({},e),{},{city:t.city});case"SEARCHING_CITIES_CHANGED":return Object(j.a)(Object(j.a)({},e),{},{choosedCities:t.choosedCities});case"SET_ACTIVE_CITY":return Object(j.a)(Object(j.a)({},e),{},{isActiveCityExist:t.isActiveCityExist});default:return e}},weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WEATHER_UPDATE":return Object(j.a)(Object(j.a)({},e),{},{data:t.data,wind:t.wind});case"ICON_CHANGED":return Object(j.a)(Object(j.a)({},e),{},{iconPath:t.path});default:return e}}}),_=Object(m.b)(y),N=function(e){return{type:"CITY_CHANGED",city:e}},w=function(e){return{type:"SEARCHING_CITIES_CHANGED",choosedCities:e}},C=function(e){return{type:"SET_ACTIVE_CITY",isActiveCityExist:e}},g=function(e,t){return{type:"WEATHER_UPDATE",data:e,wind:t}},E=function e(t){var n=this;Object(i.a)(this,e),this.getWeather=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n.url);case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Server Error");case 5:return e.next=7,t.json();case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)}))),this.getCitiesList=Object(b.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.hh.ru/areas");case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Server Error");case 5:return e.next=7,t.json();case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)}))),this.url="https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&appid=761d1d1888eebee3b64ce48fc5680f64&lang=ru&units=metric")},k=n(1),M=function(){return function(e){return function(t){var n=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new E("\u041c\u043e\u0441\u043a\u0432\u0430").getWeather().then((function(e){_.dispatch(g(e.main,e.wind)),_.dispatch({type:"ICON_CHANGED",path:"http://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png")})})).catch((function(e){_.dispatch(g({temp_min:"\u041e\u0448\u0438\u0431\u043a\u0430",temp_max:"\u041e\u0448\u0438\u0431\u043a\u0430",pressure:"\u041e\u0448\u0438\u0431\u043a\u0430"},{speed:"\u041e\u0448\u0438\u0431\u043a\u0430"}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=new Date,c=a.getDate(),r=a.getDay(),s=a.getMonth();return Object(k.jsx)(e,Object(j.a)(Object(j.a)({},t),{},{componentDidMount:n,day:["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"][r],month:["\u042f\u043d\u0432\u0430\u0440\u044f","\u0424\u0435\u0432\u0440\u0430\u043b\u044f","\u041c\u0430\u0440\u0442\u0430","\u0410\u043f\u0440\u0435\u043b\u044f","\u041c\u0430\u044f","\u0418\u044e\u043d\u044f","\u0418\u044e\u043b\u044f","\u0410\u0432\u0433\u0443\u0441\u0442\u0430","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u041e\u043a\u0442\u044f\u0431\u0440\u044f","\u041d\u043e\u044f\u0431\u0440\u044f","\u0414\u0435\u043a\u0430\u0431\u0440\u044f"][s],dateOfMonth:c}))}}},D=(n(30),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(k.jsx)("img",{src:"ajax-loader.gif",className:"ajax-loader",alt:"Loading..."})}}]),n}(a.Component)),T=n(14),A=n(7),I=(n(34),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.componentDidMount()}},{key:"render",value:function(){var e=this.props,t=e.tempMax,n=e.tempMin,a=e.iconPath,c=e.day,r=e.month,s=e.dateOfMonth,i=function(e){switch(typeof e){case"string":return"\u041e\u0448\u0438\u0431\u043a\u0430";case"number":return!isNaN(e)&&Math.floor(e)+" \xb0";default:return null}};return t=i(t),n=i(n),Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("div",{className:"card-wrapper",children:Object(k.jsxs)("div",{className:"card",children:[Object(k.jsxs)("div",{className:"card__top",children:[Object(k.jsx)("h3",{className:"card__day",children:c}),Object(k.jsxs)("span",{className:"card__date",children:[s," ",r]})]}),Object(k.jsxs)("div",{className:"card__content",children:[Object(k.jsxs)("div",{className:"card__daytime",children:[Object(k.jsx)("h5",{className:"card__daytime-title",children:"\u0414\u043d\u0451\u043c"}),Object(k.jsxs)("div",{className:"card__data",children:[Object(k.jsx)("span",{className:"card__daytime-temp",children:t||Object(k.jsx)(D,{})}),Object(k.jsx)("span",{className:"card__daytime-weather",children:Object(k.jsx)("img",{src:a||"ajax-loader.gif",alt:"sunny"})})]})]}),Object(k.jsxs)("div",{className:"card__daytime",children:[Object(k.jsx)("h5",{className:"card__daytime-title",children:"\u041d\u043e\u0447\u044c\u044e"}),Object(k.jsxs)("div",{className:"card__data",children:[Object(k.jsx)("span",{className:"card__daytime-temp",children:n||Object(k.jsx)(D,{})}),Object(k.jsx)("span",{className:"card__daytime-weather",children:Object(k.jsx)("img",{src:a||"ajax-loader.gif",alt:"sunny"})})]})]})]}),Object(k.jsx)("div",{className:"card__bottom",children:Object(k.jsx)(T.a,{to:"/more-info",className:"card__link",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})})]})})})}}]),n}(a.Component)),S=Object(A.b)((function(e){return{tempMax:e.weather.data.temp_max,tempMin:e.weather.data.temp_min,iconPath:e.weather.iconPath}}))(M()(I)),H=(n(37),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.componentDidMount()}},{key:"render",value:function(){var e=this.props,t=e.speed,n=e.pressure;return t="string"===typeof t?t:Math.floor(t)+" \u043c/\u0441",n="string"===typeof n?n:Math.floor(n/133)+" \u043c/\u0441",Object(k.jsxs)("div",{className:"modal",children:[Object(k.jsx)("div",{className:"modal__top",children:Object(k.jsx)("h1",{className:"modal__title",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"})}),Object(k.jsx)("div",{className:"modal__content",children:Object(k.jsx)("table",{className:"modal__table",children:Object(k.jsxs)("tbody",{children:[Object(k.jsxs)("tr",{className:"modal__table-item",children:[Object(k.jsx)("td",{children:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0432\u0435\u0442\u0440\u0430:"}),Object(k.jsx)("td",{children:t||Object(k.jsx)(D,{})})]}),Object(k.jsxs)("tr",{className:"modal__table-item",children:[Object(k.jsx)("td",{children:"\u0410\u0442\u043c\u043e\u0441\u0444\u0435\u0440\u043d\u043e\u0435 \u0434\u0430\u0432\u043b\u0435\u043d\u0438\u0435:"}),Object(k.jsx)("td",{children:n||Object(k.jsx)(D,{})})]})]})})}),Object(k.jsx)("div",{className:"modal__bottom",children:Object(k.jsx)(T.a,{to:"/",className:"modal__link",children:"\u0421\u043a\u0440\u044b\u0442\u044c"})})]})}}]),n}(a.Component)),B=(Object(A.b)((function(e){return{pressure:e.weather.data.pressure,speed:e.weather.wind.speed}}))(M()(H)),n(38),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).onMenuItemClick=function(){var t=Object(b.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.includes(" (")&&(n=n.slice(0,n.indexOf(" ("))),_.dispatch(N(n)),e.props.closeList(),t.next=5,new E(n).getWeather().then((function(e){_.dispatch(C(!0)),_.dispatch(g(e.main,e.weather[0].description,e.wind))}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return this.props.choosedCities?Object(k.jsx)("ul",{className:"cities-list",children:this.props.choosedCities.map((function(t,n){return Object(k.jsx)("li",{onClick:function(){e.onMenuItemClick(t)},className:"cities-list_item",children:t},t+n)}))}):null}}]),n}(a.Component)),L=Object(A.b)((function(e){return{choosedCities:e.search.choosedCities}}))(B),G=function(){return function(e){var t=[];return function(n){var a=[],c="",r=function(){var e=Object(b.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,(new E).getCitiesList().then((function(e){e.forEach((function(e){e.areas.forEach((function(e){e.areas.forEach((function(e){n.push(e.name)}))}))})),t=n}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(k.jsx)(e,Object(j.a)({getCitiesByLetters:function(e){var n=(c=e.target.value).toLowerCase();_.dispatch(C(!1)),n&&t.forEach((function(e){0===e.toLowerCase().indexOf(n)&&a.push(e)})),_.dispatch(w(a)),_.dispatch(N(c))},componentDidMount:r,inputValue:c,closeList:function(){_.dispatch(w([]))}},n))}}},P=(n(39),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.componentDidMount()}},{key:"render",value:function(){var e=this.props,t=e.city,n=e.inputValue,a=e.getCitiesByLetters,c=e.choosedCities,r=e.closeList;return this.inputValue=t||n,Object(k.jsxs)("div",{className:"search-wrapper",children:[Object(k.jsx)("input",{value:this.inputValue,onInput:a,className:"search",placeholder:"\u0413\u043e\u0440\u043e\u0434"}),Object(k.jsx)(L,{closeList:r,inputValue:n,list:c})]})}}]),n}(a.Component)),V=Object(A.b)((function(e){return{city:e.search.city}}))(G()(P)),W=(n(40),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.isThemeDark?"theme-changer__ball theme-changer__ball_enabled":"theme-changer__ball",t=this.props.isThemeDark?"theme-changer theme-changer_dark":"theme-changer";return Object(k.jsx)("div",{className:t,onClick:function(){_.dispatch({type:"THEME_CHANGED"})},children:Object(k.jsx)("div",{className:e})})}}]),n}(a.Component)),R=Object(A.b)((function(e){return{isThemeDark:e.theme.isThemeDark}}))(W),U=(n(41),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.menuOpened?"hamburger hamburger_active":"hamburger";return Object(k.jsxs)("div",{onClick:function(){_.dispatch({type:"MENU_OPENED"})},className:e,children:[Object(k.jsx)("span",{className:"hamburger__line"}),Object(k.jsx)("span",{className:"hamburger__line"}),Object(k.jsx)("span",{className:"hamburger__line"})]})}}]),n}(a.Component)),Y=Object(A.b)((function(e){return{menuOpened:e.menu.menuOpened}}))(U),J=(n(42),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.isActiveCityExist?this.props.city:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d";return Object(k.jsxs)("p",{className:"current-city",children:["\u0413\u043e\u0440\u043e\u0434: ",e]})}}]),n}(a.Component)),q=Object(A.b)((function(e){return{isActiveCityExist:e.search.isActiveCityExist,city:e.search.city}}))(J),F=(n(43),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(k.jsxs)("div",{className:"app-header",children:[Object(k.jsx)(Y,{}),Object(k.jsx)(V,{}),Object(k.jsx)(R,{}),Object(k.jsx)(q,{})]})}}]),n}(a.Component)),X=(n(44),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(k.jsx)("li",{className:"menu-list__item",children:Object(k.jsx)("a",{className:"menu-list__link",href:"#",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})})}}]),n}(a.Component)),z=(n(45),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.menuOpened?"menu-list menu-list_active":"menu-list";return Object(k.jsxs)("ul",{className:e,children:[Object(k.jsx)(X,{}),Object(k.jsx)(X,{})]})}}]),n}(a.Component)),K=Object(A.b)((function(e){return{menuOpened:e.menu.menuOpened}}))(z),Q=(n(46),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).state={styles:{boxShadow:"-304px 0px 1000px 100px rgb(0 159 255 / 69%) inset"}},e.setBoxShadowByMouseMove=e.setBoxShadowByMouseMove.bind(Object(u.a)(e)),e}return Object(o.a)(n,[{key:"setBoxShadowByMouseMove",value:function(e){var t=e.pageX;this.setState({styles:{boxShadow:"".concat(t-800,"px 0px 1000px 100px rgb(0 159 255 / 69%) inset")}})}},{key:"render",value:function(){var e=this.props.isThemeDark?"app dark":"app";return Object(k.jsxs)("div",{style:this.state.styles,onMouseMove:this.setBoxShadowByMouseMove,className:e,children:[Object(k.jsx)(F,{}),Object(k.jsx)(K,{}),Object(k.jsx)(S,{})]})}}]),n}(a.Component)),Z=Object(A.b)((function(e){return{isThemeDark:e.theme.isThemeDark}}))(Q);s.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(A.a,{store:_,children:Object(k.jsx)(Z,{})})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.95d5ba2c.chunk.js.map